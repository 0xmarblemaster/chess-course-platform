<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'>
<title>Chess Empire | –û–Ω–ª–∞–π–Ω –∫—É—Ä—Å</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">

<link rel="shortcut icon" href="favicon.svg">

<!-- Primary Meta Tags -->
<meta name="title" content="Chess Empire | –û–Ω–ª–∞–π–Ω –∫—É—Ä—Å">
<meta name="description" content="60 —à–∞–≥–æ–≤ –¥–æ 4 —Ä–∞–∑—Ä—è–¥–∞">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.chessempire.kz/landing/index.html">
<meta property="og:title" content="Chess Empire | –û–Ω–ª–∞–π–Ω –∫—É—Ä—Å –ø–æ —à–∞—Ö–º–∞—Ç–∞–º">
<meta property="og:description" content="60 —à–∞–≥–æ–≤ –¥–æ 4 —Ä–∞–∑—Ä—è–¥–∞. –í–æ–π–¥–∏ –≤ –¢–û–ü 20% –ª—É—á—à–∏—Ö –≤ –º–∏—Ä–µ">
<meta property="og:image" content="https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/landing-image.png">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://www.chessempire.kz/landing/index.html?v=3">
<meta property="twitter:title" content="Chess Empire | –û–Ω–ª–∞–π–Ω –∫—É—Ä—Å">
<meta property="twitter:description" content="60 —à–∞–≥–æ–≤ –¥–æ 4 —Ä–∞–∑—Ä—è–¥–∞">
<meta property="twitter:image" content="https://www.chessempire.kz/landing/chess-logo.jpg?v=3">

<!-- Additional Meta Tags -->
<meta name="author" content="Gal Shir">
<meta name="keywords" content="logo design, branding, graphic design, design tips, logo tutorial, brand identity">
<meta name="theme-color" content="#efece5">

<script src="https://gumroad.com/js/gumroad.js"></script>

<style>
body {
  margin:0;
  color:#181818;
  text-align: center;
  font-family: "Space Grotesk", sans-serif;
  font-optical-sizing: auto;
  font-weight: 400;
  font-style: normal;
  font-size:16px;
  padding-top:100vh;
  padding-bottom:200px;
  line-height:1.5;
}
body.scrolled {
  background:#ececec
}
* {
  animation-timing-function: cubic-bezier(1,0,0,1);
  animation-fill-mode: both;
  transition: all 1s cubic-bezier(1,0,0,1);
  box-sizing: border-box;
}
a {
  color:black;
  text-decoration: none;
}
.flex {
  display: flex;
  justify-content: center;
  align-items: center;
}
.margin {
  margin-bottom:240px
}
.noise {
  position: fixed;
  top:0;
  width:100%;
  height:100%;
  background:url(noise.png);
  background-size: 170px;
  z-index: 10;
  pointer-events: none;
  opacity:0.05;
  mix-blend-mode: multiply;
}
.scrolled .noise {
  opacity:0;
}
.background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  aspect-ratio: 2/1;
  display: grid;
  grid-template-columns: repeat(16, 1fr);
  grid-template-rows: repeat(8, 1fr);
  gap: 0.5px;
  z-index: -1;
  background:rgba(0,0,0,0.15);
  mix-blend-mode: multiply;
}
.scrolled .background {
  opacity: 0;
}
.background > div {
  background:rgba(255,255,255,0.9);
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
}
.background > div > * {
  box-sizing: content-box;
  width:80%;
  border:20px solid white;
}
.background:after {
  display: block;
  content: '';
  position: absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:linear-gradient(to top, white, rgba(255,255,255,0.0));
}
.header {
  position: fixed;
  z-index:12;
  top:8px;
  left:8px;
  background:white;
  border:1px solid rgba(0,0,0,0.1);
  border-radius: 20px;
  overflow: hidden;
  width:36px;
  text-align: left;
  justify-content: flex-start;
}
.header * {
  flex-shrink: 0;
}
.scrolled .header, .header:hover {
  width:255px;
}
.avatar {
  width:32px;
  height:32px;
  border-radius: 50%;
  margin-right:6px;
}
.socials {
  display: grid;
  grid-template-columns: auto auto auto auto auto;
  font-size:13px;
  margin-left:8px;
}
.socials a {
  display: flex;
  justify-content: center;
  align-items: center;
  transition: all 200ms;
  opacity:0.7;
  padding:0 8px;
  height:36px;
  border-left:1px solid rgba(0,0,0,0.1);
}
.socials a:hover {
  background:rgba(0,0,0,0.05);
  opacity:1
}
.socials img {
  width:20px;
  filter: brightness(0);
}
.socials img.whatsapp {
  filter: none !important;
}
.hero {
  width:100vw;
  height:100vh;
  flex-direction: column;
  position: fixed;
  z-index: 2;
  top:0;
  bottom:0;
  margin-bottom:-100vh;
  background-size: 170px;
  transition: all 1s cubic-bezier(1,0,0,1), margin 0s;
  pointer-events: none;
}
.hero > * {
  position: absolute;
}
.book-header {
  position: absolute;
  left:0;
  right:0;
  text-align: center;
  margin:0 auto;
  top:60px;
  font-size:9px;
  opacity:0.8;
  letter-spacing: 1px;
  opacity:0
}
.scrolled .book-header {
  top:40px;
  opacity:1
}
.book {
  background:url(book.png?2);
  background-size: 100% 100%;
  background-position: center;
  background-repeat: no-repeat;
  width:300px;
  height:auto;
  background-size: cover;
  opacity:0;
  height:400px;
  position: relative;
}
.scrolled .book {
  opacity:1;
}
.new-badge {
  position: absolute;
  width: 72px;
  height: 56px;
  background: #FF8744;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 100%;
  color: white;
  transform: rotate(-10deg);
  font-size: 14px;
  right: 0px;
  top: 80px;
  z-index: 3;
  transform:scale(0);
  transition-delay: 0.5s;
}
.new-badge:after {
  content: '';
  position: absolute;
  top:3px;
  left:3px;
  width:62px;
  height:46px;
  border:2px solid white;
  border-radius: 100%;
}
.scrolled .new-badge {
  transform:scale(0.8) rotate(-10deg);
}
.scrolled .book-title {
  transform: scale(0.3);
  opacity:0.9
}
.logo {
  width:300px;
  height:192px;
  display: flex;
  justify-content: space-between;
}
.logo > * {
  mix-blend-mode: multiply;
}
.logo .digit {
  background:#181818;
  height:100%;
  width:144px;
  animation-name:digit-base;
  animation-duration: 2s;
  position: relative;
  overflow: hidden;
  align-items: baseline;
}
.logo .digit.zero, .logo .digit.zero * {
  animation-delay:250ms
}
@keyframes digit-base {
  0% { width:0px; border-radius: 0px; }
  30% { width:144px; }
  100% {border-radius: 48px; }
}
.scrolled .digit {
  opacity:0;
}
.logo .hole {
  animation-name:hole;
  animation-duration: 2s;
  background:white;
  border-radius: 48px;
  position: absolute;
  top:6px;
}
@keyframes hole {
  0% { height:0; width:12px;}
  50% { height:180px; width:12px }
  100% { height:180px; width:48px }
}
.logo .hole.upper {
  animation-name:upper-hole;
  animation-duration: 2s;
  top:6px;
}
@keyframes upper-hole {
  0% { height:0; width:12px;}
  33% { height:180px; width:12px; border-radius: 24px 24px 24px 24px}
  66% { height:78px; width:48px;  }
  100% { height:78px; width:48px; border-radius: 24px 24px 0 24px }
}
.logo .hole.lower {
  animation-name:lower-hole;
  animation-duration: 2s;
  top:auto;
  bottom:6px;
}
@keyframes lower-hole {
  0% { height:0; width:12px;}
  50% { height:0px; width:12px }
  100% { height:96px; width:48px }
}
.logo .gap {
  width:0px;
  height:0;
  background:white;
  position: absolute;
  bottom:108px;
  right:0;
  animation-delay: 0.5s;
  animation-duration: 2s;
  animation-name:gap;
}
@keyframes gap {
  0% { height:0;}
  100% { height:36px;width:72px}
}
.logo .ball {
  width:48px;
  height:48px;
  background:#181818;
  border-radius: 50%;
  position: absolute;
  right:0;
  bottom:108px;
  animation-delay: 0.5s;
  animation-duration: 2s;
  animation-name:ball;
}
@keyframes ball {
  0% { bottom:84px; border-radius: 24px 24px 0px 0px; }
  100% { bottom:120px; border-radius: 24px 24px 24px 24px; }
}
.logo .knee {
  width:48px;
  height:48px;
  background:white;
  position: absolute;
  bottom:60px;
  right:0;
  overflow: hidden;
}
.logo .knee-inner {
  width:96px;
  height:96px;
  background:#181818;
  border-radius: 0 50% 0 0;
  position: absolute;
  top:0;
  right:0;
  animation-delay: 1s;
  animation-duration: 2s;
  animation-name:knee-inner;
}
@keyframes knee-inner {
  0% { border-radius: 0 0 0 0; }
  100% { border-radius: 0 50% 0 0; }
}
.logo-effects {
  position: absolute;
  width: 324px;
  left: -12px;
  top: -14px;
  z-index: 10;
  opacity:0;
}
.scrolled .logo-effects {
  opacity:1;
}
h1 {
  font-family: "Caveat", cursive;
  font-size: 42px;
  margin:0;
  letter-spacing: -1px;
  height:42px;
}
.content {
  padding:0 64px;
}
h2 {
  font-size:60px;
  letter-spacing: -2px;
  line-height:100%;
  margin:0;
  margin-bottom:32px;
  font-weight:600;
}
p {
  max-width:700px;
  margin:0 auto;
  opacity:0.7;
  margin-bottom:16px;
  font-size: 14px;
}
p.subtitle {
  font-size:22px;
  margin:0 auto;
  margin-bottom:32px;
}
.train {
  margin-top:80px;
  display: flex;
  overflow: hidden;
}
.train img {
  height:324px;
  animation-name:train;
  animation-duration: 60s;
  animation-fill-mode: both;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}
@keyframes train {
  0% { transform: translateX(0); }
  100% { transform: translateX(-100%); }
}

/* Testimonials Scroll Snap Styles */
.testimonials-wrapper {
  position: relative;
  max-width: 100%;
  margin: 0 auto;
}
.testimonials-scroll-container {
  display: flex;
  overflow-x: auto;
  overflow-y: hidden;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  gap: 2rem;
  padding: 2rem 1rem 3rem 1rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  -ms-overflow-style: none;
  margin-top: 40px;
  touch-action: auto;
}
.testimonials-scroll-container::-webkit-scrollbar {
  display: none;
}
.testimonial-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: white;
  border: 1px solid rgba(0,0,0,0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 10;
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06);
  opacity: 0.9;
}
.testimonial-arrow:hover {
  background: #5F192B;
  transform: translateY(-50%) scale(1.1);
  box-shadow: 0 8px 24px rgba(95, 25, 43, 0.3), 0 4px 8px rgba(95, 25, 43, 0.2);
  opacity: 1;
}
.testimonial-arrow:hover::after {
  border-color: white;
}
.testimonial-arrow:active {
  transform: translateY(-50%) scale(0.95);
}
.testimonial-arrow.left {
  left: 20px;
}
.testimonial-arrow.right {
  right: 20px;
}
.testimonial-arrow::after {
  content: '';
  width: 12px;
  height: 12px;
  border-right: 2px solid #1a1a1a;
  border-bottom: 2px solid #1a1a1a;
  transition: border-color 250ms cubic-bezier(0.4, 0, 0.2, 1);
}
.testimonial-arrow.left::after {
  transform: rotate(135deg);
  margin-left: 4px;
}
.testimonial-arrow.right::after {
  transform: rotate(-45deg);
  margin-right: 4px;
}
.testimonial-arrow.disabled {
  opacity: 0.3;
  cursor: not-allowed;
  pointer-events: none;
}
.scroll-page {
  display: flex;
  gap: 2rem;
  min-width: 100%;
  scroll-snap-align: start;
  justify-content: center;
  flex-shrink: 0;
}
.testimonial-card {
  position: relative;
  width: 280px;
  height: 450px;
  background: #f5f5f7;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06);
  border: 2px solid #e0e0e3;
  transition: all 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
  cursor: pointer;
  flex-shrink: 0;
}
.testimonial-card:hover {
  transform: translateY(-8px) scale(1.05);
  box-shadow: 0 12px 32px rgba(0,0,0,0.15), 0 8px 16px rgba(0,0,0,0.1);
  border-color: #c8c8cc;
  z-index: 10;
}
.testimonial-card:active {
  transform: translateY(-8px) scale(1.02);
}
.card-media {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: #e8e8ed;
}
.card-media img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  transition: transform 400ms cubic-bezier(0.4, 0, 0.2, 1);
  background: #e8e8ed;
}
.card-media video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 400ms cubic-bezier(0.4, 0, 0.2, 1);
}
.testimonial-card:hover .card-media img {
  transform: scale(1);
}
.testimonial-card:hover .card-media video {
  transform: scale(1.05);
}
.card-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #d1d1d6 0%, #e8e8ed 100%);
  color: #86868b;
  font-size: 3rem;
}
.play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.4) 100%);
  opacity: 0;
  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
}
.testimonial-card:hover .play-overlay {
  opacity: 1;
}
.play-button {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: #5F192B;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(95, 25, 43, 0.4);
  transform: scale(0.9);
  opacity: 0;
  transition: all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);
  animation: playBtnReveal 300ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  animation-delay: 100ms;
}
@keyframes playBtnReveal {
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}
.testimonial-card:hover .play-button {
  transform: scale(1.15);
  opacity: 1;
}
.play-button:active {
  transform: scale(0.95);
}
.play-button::after {
  content: '';
  width: 0;
  height: 0;
  border-left: 16px solid white;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  margin-left: 4px;
}
.image-badge {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: rgba(245, 245, 247, 0.95);
  color: #1d1d1f;
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-size: 0.875rem;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(224, 224, 227, 0.8);
  opacity: 0;
  transform: translateY(-10px);
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
}
.testimonial-card:hover .image-badge {
  opacity: 1;
  transform: translateY(0);
}
.pagination-dots {
  display: flex;
  gap: 0.75rem;
  justify-content: center;
  align-items: center;
  margin-top: 1.5rem;
}
.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #d1d5db;
  cursor: pointer;
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  transform: scale(0.8);
  opacity: 0.5;
}
.dot:hover {
  transform: scale(1.2);
  opacity: 0.8;
}
.dot.active {
  background: #5F192B;
  transform: scale(1);
  opacity: 1;
  width: 24px;
  border-radius: 20px;
}
.dot.mobile-only {
  display: none;
}
.testimonial-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  backdrop-filter: blur(8px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  padding: 2rem;
  animation: modalOpen 400ms cubic-bezier(0.4, 0, 0.2, 1);
}
.testimonial-modal.active {
  display: flex;
}
@keyframes modalOpen {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
.modal-content {
  max-width: 90vw;
  max-height: 90vh;
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
}
.modal-content img,
.modal-content video {
  width: 100%;
  height: 100%;
  object-fit: contain;
}
.modal-close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: #f5f5f7;
  border: 2px solid #e0e0e3;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 10;
  font-size: 24px;
  line-height: 1;
  color: #1d1d1f;
}
.modal-close:hover {
  transform: scale(1.1);
  background: #5F192B;
  color: white;
  border-color: #5F192B;
}
@media screen and (max-width: 1200px) {
  .testimonial-card {
    width: 260px;
    height: 420px;
  }
  .scroll-page {
    gap: 1.5rem;
  }
}
@media screen and (max-width: 1024px) {
  .scroll-page {
    justify-content: flex-start;
    padding-left: 2rem;
  }
  .testimonial-card {
    width: 240px;
    height: 400px;
  }
}
@media screen and (max-width: 768px) {
  .testimonials-wrapper {
    padding: 0 0.5rem;
    touch-action: auto;
  }
  .testimonials-scroll-container {
    gap: 0;
    padding: 1.5rem 0 2rem 0;
    scroll-snap-type: none;
    overflow-x: visible;
    touch-action: pan-y;
  }
  .scroll-page {
    display: flex;
    flex-direction: column;
    gap: 0;
    padding: 0;
    min-width: 100%;
    align-items: center;
    justify-content: center;
    touch-action: pan-y;
  }
  .testimonial-card {
    width: 85vw;
    max-width: 360px;
    height: 520px;
    margin: 0 auto;
    scroll-snap-align: center;
    min-width: 85vw;
    touch-action: pan-y;
  }
  .testimonial-card {
    display: none;
  }
  .testimonial-card.mobile-active {
    display: block;
  }
  .testimonial-card:hover {
    transform: translateY(-4px) scale(1.02);
  }
  .play-button {
    width: 56px;
    height: 56px;
  }
  .play-button::after {
    border-left: 14px solid white;
    border-top: 9px solid transparent;
    border-bottom: 9px solid transparent;
  }
  .testimonial-arrow {
    width: 48px;
    height: 48px;
  }
  .testimonial-arrow.left {
    left: 8px;
  }
  .testimonial-arrow.right {
    right: 8px;
  }
  .testimonial-arrow::after {
    width: 10px;
    height: 10px;
  }
  .pagination-dots {
    margin-top: 1rem;
    gap: 0.5rem;
  }
  .dot {
    width: 7px;
    height: 7px;
  }
  .dot.active {
    width: 20px;
  }
  .dot.mobile-only {
    display: block;
  }
  .image-badge {
    font-size: 0.75rem;
    padding: 0.4rem 0.8rem;
  }
}

@media screen and (max-width: 480px) {
  .testimonials-wrapper {
    padding: 0;
    touch-action: auto;
  }
  .testimonials-scroll-container {
    gap: 0;
    padding: 1rem 0 1.5rem 0;
    touch-action: pan-y;
  }
  .scroll-page {
    gap: 0;
    padding: 0;
    touch-action: pan-y;
  }
  .testimonial-card {
    width: 88vw;
    max-width: 320px;
    height: 500px;
    min-width: 88vw;
    touch-action: pan-y;
  }
  .testimonial-card:hover {
    transform: translateY(-2px) scale(1.01);
  }
  .testimonial-card:active {
    transform: translateY(-1px) scale(0.99);
  }
  .play-button {
    width: 48px;
    height: 48px;
    opacity: 1;
  }
  .play-overlay {
    opacity: 0.9;
  }
  .play-button::after {
    border-left: 12px solid white;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    margin-left: 3px;
  }
  .testimonial-arrow {
    width: 40px;
    height: 40px;
    opacity: 0.85;
  }
  .testimonial-arrow:active {
    transform: translateY(-50%) scale(0.9);
  }
  .testimonial-arrow.left {
    left: 4px;
  }
  .testimonial-arrow.right {
    right: 4px;
  }
  .testimonial-arrow::after {
    width: 8px;
    height: 8px;
    border-right: 1.5px solid #1a1a1a;
    border-bottom: 1.5px solid #1a1a1a;
  }
  .pagination-dots {
    margin-top: 0.75rem;
    gap: 0.4rem;
  }
  .dot {
    width: 6px;
    height: 6px;
  }
  .dot:active {
    transform: scale(0.8);
  }
  .dot.active {
    width: 18px;
  }
  .image-badge {
    font-size: 0.7rem;
    padding: 0.35rem 0.7rem;
    top: 0.75rem;
    right: 0.75rem;
  }
  .modal-content {
    max-width: 95vw;
    max-height: 95vh;
    border-radius: 12px;
  }
  .modal-close {
    width: 40px;
    height: 40px;
    top: 0.75rem;
    right: 0.75rem;
    font-size: 20px;
  }
}

@media screen and (max-width: 360px) {
  .testimonial-card {
    width: 92vw;
    max-width: 280px;
    height: 420px;
  }
  .testimonial-arrow {
    width: 36px;
    height: 36px;
  }
  .testimonial-arrow::after {
    width: 7px;
    height: 7px;
  }
}

.chapters {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-gap: 48px;
  margin:0 auto;
  max-width:1300px;
  font-size: 14px;
}
.chapter {
  position: relative;
}
.chapter img {
  opacity:0.8;
}
.chapter-title {
  font-weight: 600;
  margin-bottom:8px;
  letter-spacing: 1px;
}
.bonus-badge {
  background: #FF8744;
    display: inline-block;
    position: absolute;
    color: white;
    font-weight: 600;
    border-radius: 10px;
    font-size: 8px;
    letter-spacing: 0.5px;
    padding: 2px 6px;
    left: 0;
    right: 0;
    margin: auto;
    width: fit-content;
    top: 112px;
}
.footer {
  position: fixed;
  z-index: 11;
  bottom:48px;
  padding:8px 8px 8px 16px;
  background:white;
  border-radius: 20px;
  width:460px;
  justify-content: space-between;
  left:0;
  right:0;
  margin:0 auto;
  text-align: left;
  border:1px solid rgba(0,0,0,0.1);
  animation-name:footer-in;
  animation-duration: 1s;
  animation-fill-mode: forwards;
  box-shadow: 0 0 128px rgba(0,0,0,0.2);
}
@keyframes footer-in {
  0% { opacity:0; transform: translateY(100px); }
  100% { opacity:1; transform: translateY(0); }
}
.button {
  background-color:#181818;
  color:white;
  height:60px;
  border-radius: 12px;
  padding:0 32px;
  font-size:14px;
  font-weight: 500;
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background-color 0.2s;
}
.button:hover {
  background-color:#282828;
}
.button-text {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  line-height: 1.3;
  text-align: center;
}
.price {
  font-weight: 600;
}
.strike-through {
  text-decoration: line-through;
  opacity:0.5;
  font-weight: 400;
}
.discount {
  font-size:10px;
  background:#D7F2BA;
  padding:3px 7px;
  border-radius: 4px;
  margin-left:2px;
  position: relative;
  top: -1.5px;
  letter-spacing: 1px;
  display: inline-block;
  white-space: nowrap;
}
.timer {
  color:rgba(0,0,0,0.5);
  font-size:12px;
  margin-top:4px;
  position: relative;
  padding-left:12px
}
.timer:before {
  content: '';
  position: absolute;
  top:5px;
  left:0;
  width:8px;
  height:8px;
  background:#c5e7a0;
  border-radius: 100%;
}
@media screen and (max-width: 800px) {
  .background {
    aspect-ratio: 1/2;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(16, 1fr);
  }
  body { padding-top:800px }
  .hero { height:800px }
  .header { left:0; right:0; margin:auto; }
  .content { padding:0 20px; }
  h2 { font-size:42px; letter-spacing: -1px; line-height:110%; max-width: 370px; margin:0 auto 32px; }
  p.subtitle { font-size:16px; }
  .chapters { grid-template-columns: repeat(2, 1fr); grid-gap: 24px;}
  .margin { margin-bottom:180px }
  .footer { width: auto; margin: 0 16px; bottom:16px; }
  .footer .button { margin-left:16px}
  .discount {display: block; margin-top:5px; margin-left:0; left:-2px; font-size:9px}
  .timer {margin-top:3px; font-size:10px}
}

</style>

</head><body>

<div class="background"></div>

<div class="header flex">
  <a href="https://www.chessempire.kz/" class="flex">
    <img class="avatar" src="chess-logo-new.png" />
    <div class="header-text-name">Chess Empire</div>
  </a>
  <div class="socials">
    <a href="https://www.instagram.com/chessempire.kz/" target="_blank"><img src="https://galshir.com/studio-img/i-instagram.png" style="margin-right:2px">5.6k</a>
    <a href="https://api.whatsapp.com/send/?phone=77077872210&text=%D0%27%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%21%0A%0A%D0%9F%D0%B8%D1%88%D1%83+%D0%B8%D0%B7+%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F+2%D0%93%D0%98%D0%A1.%0A%0A&type=phone_number&app_absent=0" target="_blank" style="padding:0 20px 0 8px"><img class="whatsapp" src="https://cdn.simpleicons.org/whatsapp/4B5563" alt="WhatsApp" style="margin-right:2px; width:26px; height:26px"></a>
  </div>
</div>

<div class="hero flex">
  <div class="book">
    <div class="book-header">CHESS EMPIRE</div>
    <div class="new-badge">NEW</div>
  </div>

  <div class="book-title">
    <div class="logo">
      <div class="digit six flex">
        <div class="hole upper"></div>
        <div class="hole lower"></div>
        <div class="gap"></div>
        <div class="ball"></div>
        <div class="knee">
          <div class="knee-inner"></div>
        </div>
      </div>
      <div class="digit zero flex">
        <div class="hole"></div>
      </div>
      <img src="galshir-60.svg" class="logo-effects" />
    </div>
    <h1>60 —à–∞–≥–æ–≤ –¥–æ 4 —Ä–∞–∑—Ä—è–¥–∞</h1>
  </div>
</div>

<div class="noise"></div>


<div class="content">
  <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ –®–∞—Ö–º–∞—Ç–Ω–æ–π –ò–º–ø–µ—Ä–∏–∏</h2>
  <p class="subtitle"><b>60 –®–∞–≥–æ–≤ –¥–æ 4 —Ä–∞–∑—Ä—è–¥–∞</b> ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –æ–Ω–ª–∞–π–Ω –∫—É—Ä—Å, –≥–¥–µ –≤—ã —à–∞–≥ –∑–∞ —à–∞–≥–æ–º –ø—Ä–æ–π–¥–µ—Ç–µ –ø—É—Ç—å –æ—Ç –±–∞–∑–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª, –¥–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–µ–º–æ–≤.</p>
  <div class="chapters">
    <div class="chapter">
      <img src="icons/chess-icon-phone.svg" />
      <div class="chapter-title">–£–ß–ò–°–¨ –í–ï–ó–î–ï</div>
      <p class="chapter-content">–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –≤–æ –≤—Ä–µ–º—è –ø–æ–µ–∑–¥–∫–∏, –æ–±–µ–¥–∞, –ø–µ—Ä–µ—Ä—ã–≤–∞ –∏–ª–∏ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ —É –≤–∞—Å –µ—Å—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω</p>
    </div>
    <div class="chapter">
      <img src="icons/chess-icon-timer.svg" />
      <div class="chapter-title">–ö–û–†–û–¢–ö–ò–ï –£–†–û–ö–ò</div>
      <p class="chapter-content">5-15 –º–∏–Ω—É—Ç–Ω—ã–µ —É—Ä–æ–∫–∏ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—á–µ–±–Ω—ã—Ö —Å–µ—Å—Å–∏–π</p>
    </div>
    <div class="chapter">
      <img src="icons/chess-icon-puzzle.svg" />
      <div class="chapter-title">–ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–´–ï –ó–ê–î–ê–ß–ò</div>
      <p class="chapter-content">–†–µ—à–∞–π—Ç–µ —à–∞—Ö–º–∞—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø—Ä—è–º–æ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ —Å —Å–µ–Ω—Å–æ—Ä–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º</p>
    </div>
    <div class="chapter">
      <img src="icons/chess-icon-progress.svg" />
      <div class="chapter-title">–û–¢–°–õ–ï–ñ–ò–í–ê–ù–ò–ï –ü–†–û–ì–†–ï–°–°–ê</div>
      <p class="chapter-content">–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Å –ø–æ–º–æ—â—å—é –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –ø–æ–ª–æ—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</p>
    </div>
    <div class="chapter">
      <img src="icons/chess-icon-video.svg" />
      <div class="chapter-title">–í–ò–î–ï–û –£–†–û–ö–ò</div>
      <p class="chapter-content">–í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∏–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</p>
    </div>
    <div class="chapter">
      <img src="icons/chess-icon-bell.svg" />
      <div class="chapter-title">–£–ú–ù–´–ï –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–Ø</div>
      <p class="chapter-content">–ü–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ —à–∞—Ö–º–∞—Ç</p>
    </div>
    <div class="chapter">
      <img src="icons/chess-icon-content.svg" />
      <div class="chapter-title">–ë–û–ì–ê–¢–´–ô –ö–û–ù–¢–ï–ù–¢</div>
      <p class="chapter-content">–ë–æ–ª–µ–µ 100 –≤–∏–¥–µ–æ —É—Ä–æ–∫–æ–≤ –∏ 500 –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á –Ω–∞ –ø—É—Ç–∏ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞</p>
    </div>
    <div class="chapter">
      <img src="icons/chess-icon-teacher.svg" />
      <div class="chapter-title">–ú–ê–°–¢–ï–† –§–ò–î–ï</div>
      <p class="chapter-content">–£—Ä–æ–∫–∏ –æ—Ç –ú–∞—Å—Ç–µ—Ä–∞ –§–∏–¥–µ –æ–±—É—á–∏–≤—à–µ–≥–æ –±–æ–ª–µ–µ 500 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</p>
    </div>
  </div>
</div>

<div class="margin"></div>


<div class="content">
  <h2>–í–∞—à–∏ –û—Ç–∑—ã–≤—ã ‚ù§Ô∏è</h2>
  <p class="subtitle">–ù–∞—à–∏ —É—á–µ–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è —Å–≤–æ–∏–º–∏ —É—Å–ø–µ—Ö–∞–º–∏ –∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏ –æ—Ç –æ–±—É—á–µ–Ω–∏—è –≤ Chess Empire</p>
</div>

<div class="testimonials-wrapper">
  <!-- Left Arrow -->
  <button class="testimonial-arrow left" id="testimonialArrowLeft" aria-label="Previous testimonials"></button>

  <!-- Right Arrow -->
  <button class="testimonial-arrow right" id="testimonialArrowRight" aria-label="Next testimonials"></button>

  <div class="testimonials-scroll-container" id="scrollContainer">
    <!-- Page 1: Cards 1-3 -->
    <div class="scroll-page" data-page="0">
    <!-- Card 1 - Placeholder -->
    <div class="testimonial-card" data-type="video" data-index="0" tabindex="0">
      <div class="card-media">
        <div class="card-placeholder">üé•</div>
      </div>
      <div class="play-overlay">
        <div class="play-button"></div>
      </div>
    </div>

    <!-- Card 2 - Placeholder -->
    <div class="testimonial-card" data-type="image" data-index="1" tabindex="0">
      <div class="card-media">
        <div class="card-placeholder">üì∑</div>
      </div>
      <div class="image-badge">–û—Ç–∑—ã–≤</div>
    </div>

    <!-- Card 3 - Placeholder -->
    <div class="testimonial-card" data-type="video" data-index="2" tabindex="0">
      <div class="card-media">
        <div class="card-placeholder">üé•</div>
      </div>
      <div class="play-overlay">
        <div class="play-button"></div>
      </div>
    </div>
  </div>

  <!-- Page 2: Cards 4-6 -->
  <div class="scroll-page" data-page="1">
    <!-- Card 4 - Placeholder -->
    <div class="testimonial-card" data-type="image" data-index="3" tabindex="0">
      <div class="card-media">
        <div class="card-placeholder">üì∑</div>
      </div>
      <div class="image-badge">–û—Ç–∑—ã–≤</div>
    </div>

    <!-- Card 5 - Placeholder -->
    <div class="testimonial-card" data-type="video" data-index="4" tabindex="0">
      <div class="card-media">
        <div class="card-placeholder">üé•</div>
      </div>
      <div class="play-overlay">
        <div class="play-button"></div>
      </div>
    </div>

    <!-- Card 6 - Placeholder -->
    <div class="testimonial-card" data-type="video" data-index="5" tabindex="0">
      <div class="card-media">
        <div class="card-placeholder">üé•</div>
      </div>
      <div class="play-overlay">
        <div class="play-button"></div>
      </div>
    </div>
  </div>

  <!-- Page 3: Cards 7-9 -->
  <div class="scroll-page" data-page="2">
    <!-- Card 7 - Image 3 -->
    <div class="testimonial-card" data-type="image" data-index="6" tabindex="0">
      <div class="card-media">
        <div class="card-placeholder">üì∑</div>
      </div>
      <div class="image-badge">–û—Ç–∑—ã–≤</div>
    </div>

    <!-- Card 8 - Image 4 -->
    <div class="testimonial-card" data-type="image" data-index="7" tabindex="0">
      <div class="card-media">
        <div class="card-placeholder">üì∑</div>
      </div>
      <div class="image-badge">–û—Ç–∑—ã–≤</div>
    </div>
  </div>
</div>
</div>

<!-- Pagination Dots -->
<div class="pagination-dots">
  <div class="dot active" data-page="0" tabindex="0"></div>
  <div class="dot" data-page="1" tabindex="0"></div>
  <div class="dot" data-page="2" tabindex="0"></div>
  <div class="dot mobile-only" data-page="3" tabindex="0"></div>
  <div class="dot mobile-only" data-page="4" tabindex="0"></div>
  <div class="dot mobile-only" data-page="5" tabindex="0"></div>
  <div class="dot mobile-only" data-page="6" tabindex="0"></div>
  <div class="dot mobile-only" data-page="7" tabindex="0"></div>
</div>

<!-- Modal for Fullscreen View -->
<div class="testimonial-modal" id="testimonialModal">
  <button class="modal-close" id="modalClose">√ó</button>
  <div class="modal-content" id="modalContent">
    <!-- Content will be inserted here -->
  </div>
</div>

<div class="margin"></div>

<div class="content">
  <img style="width:120px; height:120px; margin-bottom:24px; border-radius: 100%;" src="chess-logo-new.png">
  <p class="subtitle">Chess Empire - –®–∞—Ö–º–∞—Ç–Ω–∞—è —à–∫–æ–ª–∞ —Å 2018 –≥–æ–¥–∞</p>
  <p>–ë–æ–ª–µ–µ 7 –ª–µ—Ç –æ–ø—ã—Ç–∞ –≤ –æ–±—É—á–µ–Ω–∏–∏ —à–∞—Ö–º–∞—Ç–∞–º –¥–µ—Ç–µ–π –∏ –≤–∑—Ä–æ—Å–ª—ã—Ö. –ù–∞—à –∫—É—Ä—Å —Å–æ–∑–¥–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–∏–∫ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ —Ç—ã—Å—è—á —É—á–µ–Ω–∏–∫–æ–≤. –ú—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∏ —Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –Ω–æ–≤–∏—á–∫–∞–º –±—ã—Å—Ç—Ä–æ –¥–æ—Å—Ç–∏—á—å 4 —Ä–∞–∑—Ä—è–¥–∞ –∏ –≤–æ–π—Ç–∏ –≤ —Ç–æ–ø 20% –∏–≥—Ä–æ–∫–æ–≤ –≤ –º–∏—Ä–µ.</p>
  <p>–í —ç—Ç–æ–º –∫—É—Ä—Å–µ –≤—ã –Ω–∞–π–¥–µ—Ç–µ –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –ø–æ–Ω—è—Ç–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤. –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –Ω–∞—á–∏–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã —Å –Ω—É–ª—è –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏, —ç—Ç–æ—Ç –∫—É—Ä—Å –≤–¥–æ—Ö–Ω–æ–≤–∏—Ç, –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –∏ –¥–∞—Å—Ç –≤–∞–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞ –≤ —à–∞—Ö–º–∞—Ç–∞—Ö.</p>
  <img src="heart.png?2" style="width:60px; margin-top:24px" />
</div>

<div class="footer flex">
  <div class="info">
    <div class="price">
      <span class="price">‚Ç∏19.900</span>
      <span class="discount">+4 —É—Ä–æ–∫–∞ —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º –≤ –ø–æ–¥–∞—Ä–æ–∫</span>
    </div>
    <div class="timer">
      –æ—Å—Ç–∞–ª–æ—Å—å 19 —á–∞—Å–æ–≤ 28 –º–∏–Ω—É—Ç
    </div>
  </div>
  <a class="button tracked-button" href="https://api.whatsapp.com/send/?phone=77077872210&text=%D0%27%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%21%0A%0A%D0%9F%D0%B8%D1%88%D1%83+%D0%B8%D0%B7+%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F+2%D0%93%D0%98%D0%A1.%0A%0A&type=phone_number&app_absent=0" target="_blank">
    <div class="button-text">
      <div>–ù–∞—á–Ω–∏</div>
      <div>–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</div>
    </div>
  </a>
</div>

<script>

referral = "";
if ( referral != "" ) {
  localStorage.setItem('referral', referral);
} else {
  referral = localStorage.getItem('referral');
}

if ( localStorage.getItem('referral') != null ) {
  $('.tracked-button').each(function() {
    href = $(this).attr('href');
    $(this).attr('href', href+"&ref="+referral);
  });
}

const text = document.querySelector('h1');
const originalText = text.textContent;
text.innerHTML = originalText.split('').map(char =>
  `<span style="opacity: 0">${char}</span>`
).join('');

const chars = text.querySelectorAll('span');
let charIndex = 0;

function fadeInNextChar() {
  if (charIndex < chars.length) {
    chars[charIndex].style.transition = 'opacity 0.3s';
    chars[charIndex].style.opacity = '1';
    charIndex++;
    setTimeout(fadeInNextChar, 30);
  }
}

setTimeout(fadeInNextChar, 1000);

let lastScrollY = window.scrollY;
let ticking = false;

window.addEventListener('scroll', () => {
  if (!ticking) {
    window.requestAnimationFrame(() => {
      // Add/remove scrolled class
      if (window.scrollY > 0) {
        document.body.classList.add('scrolled');
      } else {
        document.body.classList.remove('scrolled');
      }

      // Calculate hero movement
      const hero = document.querySelector('.hero');
      hero.style.transition = 'none'; // Set transition to none
      const scrollThreshold = window.innerHeight/2 - 280;

      if (window.scrollY > scrollThreshold) {
        // Use transform instead of margin for better performance
        const offset = window.scrollY - scrollThreshold;
        hero.style.transform = `translateY(-${offset}px)`;
      } else {
        hero.style.transform = 'translateY(0)';
      }

      lastScrollY = window.scrollY;
      ticking = false;
    });

    ticking = true;
  }
});

// Get background grid and create cells
const backgroundGrid = document.querySelector('.background');
const cells = Array.from({length: 128}, () => {
  const div = document.createElement('div');
  backgroundGrid.appendChild(div);
  return div;
});

// Create array of random unique positions for sketches, excluding first position (0)
const positions = Array.from({length: 127}, (_, i) => i + 1) // Start from index 1
  .sort(() => Math.random() - 0.5)
  .slice(0, 30);

// Track visible and hidden sketches, and recently shown sketches
let visibleSketches = [];
let hiddenSketches = [];
let recentlyShown = new Set();

// Add sketches to random positions
positions.forEach((position, i) => {
  const img = document.createElement('img');
  img.src = "logo-sketches/" + (i + 1) + ".png";
  img.style.objectFit = 'contain';
  img.style.opacity = i < 20 ? '1' : '0';
  img.style.transition = 'opacity 0.5s';
  cells[position].appendChild(img);

  if (i < 20) {
    visibleSketches.push(img);
  } else {
    hiddenSketches.push(img);
  }
});

let intervalCount = 0;

// Swap visibility of sketches every 500ms
setInterval(() => {
  if (visibleSketches.length && hiddenSketches.length) {
    // Filter out recently shown sketches from visible ones
    const availableVisible = visibleSketches.filter(sketch => !recentlyShown.has(sketch));

    if (availableVisible.length === 0) return;

    const randomVisible = Math.floor(Math.random() * availableVisible.length);
    const randomHidden = Math.floor(Math.random() * hiddenSketches.length);

    const toHide = availableVisible[randomVisible];
    const toShow = hiddenSketches[randomHidden];

    toHide.style.opacity = '0';
    toShow.style.opacity = '1';

    // Remove from their current arrays
    visibleSketches = visibleSketches.filter(sketch => sketch !== toHide);
    hiddenSketches = hiddenSketches.filter(sketch => sketch !== toShow);

    // Add to their new arrays
    visibleSketches.push(toShow);
    hiddenSketches.push(toHide);

    // Add newly shown sketch to recently shown set
    recentlyShown.add(toShow);

    // Remove from recently shown after 6 intervals
    setTimeout(() => {
      recentlyShown.delete(toShow);
    }, 3000); // 6 intervals * 500ms = 3000ms
  }
}, 500);



// Countdown timer
function updateTimer() {
  const timerElements = document.querySelectorAll('.timer');
  const timerText = "–æ—Å—Ç–∞–ª–æ—Å—å 19 —á–∞—Å–æ–≤ 28 –º–∏–Ω—É—Ç";

  timerElements.forEach(timer => {
    timer.textContent = timerText;
  });
}

// Update timer immediately and every minute
updateTimer();
setInterval(updateTimer, 60000);


// Fade in content elements and chapters when they enter viewport
const contentElements = document.querySelectorAll('.content > *, .chapter');

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      let index;
      let parentElement = entry.target.parentElement;

      if (entry.target.classList.contains('chapter')) {
        index = Array.from(parentElement.children).indexOf(entry.target);
      } else {
        index = Array.from(parentElement.children).indexOf(entry.target);
      }

      const delay = index * 200; // 200ms delay between each element

      entry.target.style.opacity = '0';
      entry.target.style.transform = 'translateY(40px)';
      entry.target.style.transitionTimingFunction = 'ease-out';

      // Trigger fade in animation with delay
      setTimeout(() => {
        entry.target.style.opacity = '1';
        entry.target.style.transform = 'translateY(0)';
        entry.target.style.transition = 'opacity 1s, transform 1s';
      }, 100 + delay);

      // Unobserve after animation
      observer.unobserve(entry.target);
    }
  });
}, {
  threshold: 0.1
});

contentElements.forEach(element => {
  element.style.opacity = '0';
  observer.observe(element);
});



function random(min,max) {
	return Math.floor(Math.random() * (max + 1 - min) + min);
}

// Testimonials Scroll Snap Functionality
document.addEventListener('DOMContentLoaded', function() {
  const testimonials = [
    // Page 1: Three videos
    { type: 'video', src: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/video1.mp4', poster: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/video1-thumb.jpg' },
    { type: 'video', src: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/video2.mp4', poster: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/video2-thumb.jpg' },
    { type: 'video', src: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/video3.mp4', poster: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/video3-thumb.jpg' },
    // Page 2: Image, Video (center), Image
    { type: 'image', src: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/image1.jpg' },
    { type: 'video', src: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/video4.mp4', poster: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/video4-thumb.jpg' },
    { type: 'image', src: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/image2.jpg' },
    // Page 3: Two images
    { type: 'image', src: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/image3.jpg' },
    { type: 'image', src: 'https://vqrilwkbkfslriwlsowu.supabase.co/storage/v1/object/public/testimonials/image4.jpg' }
  ];

  // Track currently playing video
  let currentPlayingVideo = null;
  let currentPlayingCard = null;

  // Load testimonials
  function loadTestimonials() {
    const cards = document.querySelectorAll('.testimonial-card');
    cards.forEach((card, index) => {
      const testimonial = testimonials[index];
      if (!testimonial) return;

      const mediaContainer = card.querySelector('.card-media');
      mediaContainer.innerHTML = '';

      if (testimonial.type === 'video') {
        const img = document.createElement('img');
        img.src = testimonial.poster;
        img.alt = `–í–∏–¥–µ–æ –æ—Ç–∑—ã–≤ ${index + 1}`;
        img.style.opacity = '0';
        img.onload = () => {
          img.style.transition = 'opacity 400ms ease-out';
          img.style.opacity = '1';
        };
        mediaContainer.appendChild(img);
      } else {
        const img = document.createElement('img');
        img.src = testimonial.src;
        img.alt = `–û—Ç–∑—ã–≤ ${index + 1}`;
        img.style.opacity = '0';
        img.onload = () => {
          img.style.transition = 'opacity 400ms ease-out';
          img.style.opacity = '1';
        };
        mediaContainer.appendChild(img);
      }
    });
  }

  // Scroll handling
  const scrollContainer = document.getElementById('scrollContainer');
  const dots = document.querySelectorAll('.dot');
  let currentPage = 0;

  // Update active dot based on scroll position
  function updateActiveDot() {
    if (isMobile()) {
      // Mobile: Show active card index (0-7)
      dots.forEach((dot, index) => {
        if (index === currentCardIndex) {
          dot.classList.add('active');
        } else {
          dot.classList.remove('active');
        }
      });
    } else {
      // Desktop: Show active page (0-2)
      const scrollLeft = scrollContainer.scrollLeft;
      const pageWidth = scrollContainer.clientWidth;
      const newPage = Math.round(scrollLeft / pageWidth);

      if (newPage !== currentPage) {
        currentPage = newPage;
        dots.forEach((dot, index) => {
          if (index === currentPage) {
            dot.classList.add('active');
          } else {
            dot.classList.remove('active');
          }
        });
      }
    }
  }

  scrollContainer.addEventListener('scroll', () => {
    if (!isMobile()) {
      updateActiveDot();
    }
  });

  // Dot click handling
  dots.forEach((dot, index) => {
    dot.addEventListener('click', () => {
      if (isMobile()) {
        // Mobile: Navigate to specific card
        showCard(index);
      } else {
        // Desktop: Navigate to specific page
        const pageWidth = scrollContainer.clientWidth;
        scrollContainer.scrollTo({
          left: pageWidth * index,
          behavior: 'smooth'
        });
      }
    });

    // Keyboard navigation for dots
    dot.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        dot.click();
      }
    });
  });

  // Arrow navigation
  const arrowLeft = document.getElementById('testimonialArrowLeft');
  const arrowRight = document.getElementById('testimonialArrowRight');
  const totalPages = 3;
  const totalCards = testimonials.length; // 8 cards
  let currentCardIndex = 0; // For mobile navigation

  // Check if mobile
  function isMobile() {
    return window.innerWidth <= 768;
  }

  function updateArrows() {
    if (isMobile()) {
      // Mobile: Individual card navigation (0-7)
      if (currentCardIndex === 0) {
        arrowLeft.classList.add('disabled');
      } else {
        arrowLeft.classList.remove('disabled');
      }

      if (currentCardIndex === totalCards - 1) {
        arrowRight.classList.add('disabled');
      } else {
        arrowRight.classList.remove('disabled');
      }
    } else {
      // Desktop: Page navigation (0-2)
      const scrollLeft = scrollContainer.scrollLeft;
      const pageWidth = scrollContainer.clientWidth;
      const currentPageNum = Math.round(scrollLeft / pageWidth);

      if (currentPageNum === 0) {
        arrowLeft.classList.add('disabled');
      } else {
        arrowLeft.classList.remove('disabled');
      }

      if (currentPageNum === totalPages - 1) {
        arrowRight.classList.add('disabled');
      } else {
        arrowRight.classList.remove('disabled');
      }
    }
  }

  // Show specific card on mobile
  function showCard(index) {
    const allCards = document.querySelectorAll('.testimonial-card');
    allCards.forEach((card, i) => {
      if (i === index) {
        card.classList.add('mobile-active');
        card.style.display = 'block';
      } else {
        card.classList.remove('mobile-active');
        card.style.display = 'none';
      }
    });
    currentCardIndex = index;
    updateActiveDot();
    updateArrows();
  }

  arrowLeft.addEventListener('click', () => {
    if (isMobile()) {
      // Mobile: Go to previous card
      if (currentCardIndex > 0) {
        showCard(currentCardIndex - 1);
      }
    } else {
      // Desktop: Go to previous page
      if (currentPage > 0) {
        const pageWidth = scrollContainer.clientWidth;
        scrollContainer.scrollTo({
          left: pageWidth * (currentPage - 1),
          behavior: 'smooth'
        });
      }
    }
  });

  arrowRight.addEventListener('click', () => {
    if (isMobile()) {
      // Mobile: Go to next card
      if (currentCardIndex < totalCards - 1) {
        showCard(currentCardIndex + 1);
      }
    } else {
      // Desktop: Go to next page
      if (currentPage < totalPages - 1) {
        const pageWidth = scrollContainer.clientWidth;
        scrollContainer.scrollTo({
          left: pageWidth * (currentPage + 1),
          behavior: 'smooth'
        });
      }
    }
  });

  // Update arrows on scroll (desktop only)
  scrollContainer.addEventListener('scroll', () => {
    if (!isMobile()) {
      updateArrows();
    }
  });

  // Handle window resize
  window.addEventListener('resize', () => {
    if (isMobile()) {
      // Initialize mobile view
      showCard(0);
    } else {
      // Reset to desktop view
      const allCards = document.querySelectorAll('.testimonial-card');
      allCards.forEach(card => {
        card.classList.remove('mobile-active');
        card.style.display = '';
      });
      updateArrows();
    }
  });

  // Initialize
  if (isMobile()) {
    showCard(0);
  } else {
    updateArrows();
  }

  // Card click handling - Play videos inline
  const cards = document.querySelectorAll('.testimonial-card');
  const modal = document.getElementById('testimonialModal');
  const modalContent = document.getElementById('modalContent');
  const modalClose = document.getElementById('modalClose');

  cards.forEach((card, index) => {
    const testimonial = testimonials[index];
    if (!testimonial) return;

    card.addEventListener('click', (e) => {
      // Prevent bubbling
      e.stopPropagation();

      if (testimonial.type === 'video') {
        // Handle video inline
        playVideoInline(card, index);
      } else {
        // Open images in modal
        openImageModal(index);
      }
    });

    // Keyboard support
    card.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        card.click();
      }
    });
  });

  // Stop currently playing video and clean up
  function stopCurrentVideo() {
    // First, stop ALL videos in the page (brute force cleanup)
    const allVideos = document.querySelectorAll('.testimonial-card video');
    allVideos.forEach(vid => {
      if (!vid.paused) {
        vid.pause();
      }
      vid.currentTime = 0;
    });

    // Clean up tracked video
    if (currentPlayingVideo) {
      if (!currentPlayingVideo.paused) {
        currentPlayingVideo.pause();
      }
      currentPlayingVideo.currentTime = 0;
    }

    // Clean up tracked card
    if (currentPlayingCard) {
      const mediaContainer = currentPlayingCard.querySelector('.card-media');
      const playOverlay = currentPlayingCard.querySelector('.play-overlay');
      const thumbnail = mediaContainer.querySelector('img');
      const video = mediaContainer.querySelector('video');

      if (video) video.remove();
      if (thumbnail) thumbnail.style.display = 'block';
      if (playOverlay) playOverlay.style.display = 'flex';
    }

    // Clean up ALL video elements and restore thumbnails
    const allCards = document.querySelectorAll('.testimonial-card');
    allCards.forEach(cardEl => {
      const media = cardEl.querySelector('.card-media');
      const overlay = cardEl.querySelector('.play-overlay');
      const thumb = media.querySelector('img');
      const vid = media.querySelector('video');

      if (vid) {
        vid.remove();
      }
      if (thumb) thumb.style.display = 'block';
      if (overlay) overlay.style.display = 'flex';
    });

    currentPlayingVideo = null;
    currentPlayingCard = null;
  }

  // Play video inline within the card
  function playVideoInline(card, index) {
    const testimonial = testimonials[index];
    const mediaContainer = card.querySelector('.card-media');
    const playOverlay = card.querySelector('.play-overlay');

    // ALWAYS stop any currently playing video first
    stopCurrentVideo();

    // Create new video element
    const video = document.createElement('video');
    video.src = testimonial.src;
    video.controls = true;
    video.autoplay = true;
    video.playsInline = true;
    video.style.width = '100%';
    video.style.height = '100%';
    video.style.objectFit = 'cover';
    video.style.position = 'absolute';
    video.style.top = '0';
    video.style.left = '0';
    video.style.zIndex = '5';

    // Hide thumbnail and play overlay
    const thumbnail = mediaContainer.querySelector('img');
    if (thumbnail) thumbnail.style.display = 'none';
    if (playOverlay) playOverlay.style.display = 'none';

    // Add video to container
    mediaContainer.appendChild(video);

    // Track this video as currently playing
    currentPlayingVideo = video;
    currentPlayingCard = card;

    // Add event listener for play to update tracking
    video.addEventListener('play', () => {
      currentPlayingVideo = video;
      currentPlayingCard = card;
    });

    // Handle video end
    video.addEventListener('ended', () => {
      video.remove();
      if (thumbnail) thumbnail.style.display = 'block';
      if (playOverlay) playOverlay.style.display = 'flex';
      if (currentPlayingVideo === video) {
        currentPlayingVideo = null;
        currentPlayingCard = null;
      }
    });

    // Handle video pause - only clean up if paused at start
    video.addEventListener('pause', () => {
      if (video.currentTime === 0 || video.ended) {
        video.remove();
        if (thumbnail) thumbnail.style.display = 'block';
        if (playOverlay) playOverlay.style.display = 'flex';
        if (currentPlayingVideo === video) {
          currentPlayingVideo = null;
          currentPlayingCard = null;
        }
      }
    });

    // Prevent clicks on video from bubbling to card
    video.addEventListener('click', (e) => {
      e.stopPropagation();
    });
  }

  // Open image in modal (show at actual size, no enlargement)
  function openImageModal(index) {
    const testimonial = testimonials[index];
    if (!testimonial) return;

    modalContent.innerHTML = '';

    const img = document.createElement('img');
    img.src = testimonial.src;
    img.alt = `–û—Ç–∑—ã–≤ ${index + 1}`;
    img.style.maxWidth = '100%';
    img.style.maxHeight = '90vh';
    img.style.width = 'auto';
    img.style.height = 'auto';
    img.style.objectFit = 'contain';
    modalContent.appendChild(img);

    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
    modalClose.focus();
  }

  function closeModal() {
    modal.classList.remove('active');
    document.body.style.overflow = '';
    modalContent.innerHTML = '';
  }

  modalClose.addEventListener('click', closeModal);
  modal.addEventListener('click', (e) => {
    if (e.target === modal) closeModal();
  });

  // Keyboard support for modal
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal.classList.contains('active')) {
      closeModal();
    }
  });

  // Keyboard navigation for scroll container
  scrollContainer.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') {
      e.preventDefault();
      const pageWidth = scrollContainer.clientWidth;
      scrollContainer.scrollBy({ left: -pageWidth, behavior: 'smooth' });
    } else if (e.key === 'ArrowRight') {
      e.preventDefault();
      const pageWidth = scrollContainer.clientWidth;
      scrollContainer.scrollBy({ left: pageWidth, behavior: 'smooth' });
    }
  });

  // Global click listener - pause video when clicking outside
  document.addEventListener('click', (e) => {
    // Check if click is outside testimonial cards and not on video controls
    const clickedCard = e.target.closest('.testimonial-card');
    const clickedVideo = e.target.closest('video');
    const clickedVideoControls = e.target.closest('video::-webkit-media-controls');

    // If clicked outside cards and not on video controls, stop current video
    if (!clickedCard && !clickedVideo && !clickedVideoControls) {
      if (currentPlayingVideo && !currentPlayingVideo.paused) {
        stopCurrentVideo();
      }
    }
  });

  // Initialize
  loadTestimonials();
});


</script>


</body>
</html>
